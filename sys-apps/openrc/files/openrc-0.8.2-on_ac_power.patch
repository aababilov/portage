diff -Naur openrc-0.8.2.orig/scripts/on_ac_power openrc-0.8.2/scripts/on_ac_power
--- openrc-0.8.2.orig/scripts/on_ac_power	2011-04-16 03:48:30.000000000 +0300
+++ openrc-0.8.2/scripts/on_ac_power	2011-04-30 15:50:34.000000000 +0300
@@ -9,9 +9,10 @@
 		"state:"*"off-line") exit 128;;
 		esac
 	done
-elif [ -f /sys/class/power_supply/AC*/online ]; then
-	cat /sys/class/power_supply/AC*/online | while read line; do
+elif [ -f /sys/class/power_supply/*/online ]; then
+	cat /sys/class/power_supply/*/online | while read line; do
 		[ "${line}" = 0 ] && exit 128
+		[ "${line}" = 1 ] && exit 0
 	done
 elif [ -f /proc/pmu/info ]; then
 	cat /proc/pmu/info | while read line; do
